<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
{{# partial "titulo"}}
    <title>Configuraciones</title>
{{/partial}}

{{# partial "contenido"}}
    <section class="m-4">
        <h1 class="mt-4">Configurar características del sistema</h1>
        <p class="text-secondary">Como usuario administrador, podés configurar las características de las mascotas que quieras que los dueños vean.</p>

        <hr class="hr-bold">
        <div class="text-center">
        <a class="btn btn-secondary" data-bs-toggle="collapse" href="#collapseConValores" role="button" aria-expanded="false" aria-controls="collapseExample">
            Mostrar características con valores</a>
        </div>

        <div class="collapse" id="collapseConValores">
            <h5 class="text-dark">Características con valores</h5>
            {{#if caracteristicasConValores}}
            <table class="table table-bordered">
                <thead class="table-secondary">
                    <tr>
                        <th scope="col">Nombre característica</th>
                        <th scope="col">Valores posibles</th>
                        <th scope="col">Acción</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each caracteristicasConValores}}
                    <tr scope="row">
                        <td>{{this.descripcion}}</td>
                        <td>{{this.valoresPosibles}}</td>
                        <td>
                            <a class="far fa-edit m-2" style="cursor:pointer;" href="/caracteristicas/{{this.id}}"title="Editar"> </a>
                            <i onClick = send({{this.id}}) class="far fa-trash-alt" style="cursor:pointer;" title="Eliminar"></i>
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
            {{else}}
            <p class="text-warning">No hay características para mostrar.</p>
            {{/if}}
            <div class="text-center m-5">
                <a type="submit" class="btn btn-dark" href="/caracteristicas/con-valores-nueva">Agregar característica con valores</a>
            </div>
        </div>

        <div class="text-center">
            <a class="btn btn-secondary mt-5 " data-bs-toggle="collapse" href="#collapseLibre" role="button" aria-expanded="false" aria-controls="collapseExample">
                Mostrar características con respuesta libre</a>
        </div>
        <div class="collapse" id="collapseLibre">
            <h5 class="text-dark mt-3">Características con respuesta libre</h5>
            {{#if caracteristicasLibres}}
            <table class="table table-bordered ">
                <thead class="table-secondary">
                    <tr>
                        <th scope="col">Nombre característica</th>
                        <th scope="col">Acción</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each caracteristicasLibres}}
                    <tr scope="row">
                        <td>{{this.descripcion}}</td>
                        <td><a class="far fa-edit m-2" style="cursor:pointer;" href="/caracteristicas/{{this.id}}" title="Editar"></a>
                        <i onClick = send({{this.id}}) class="far fa-trash-alt" style="cursor:pointer;" title="Eliminar"></i>
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
            {{else}}
            <p class="text-warning">No hay características para mostrar.</p>
            {{/if}}
            <div class="text-center m-5">
                <a type="submit" class="btn btn-dark" href="/caracteristicas/libre-nueva">Agregar característica con respuesta libre</a>
            </div>
        </div>
    </section>

{{/partial}}
<script>
function send(id) {
    console.log(id);
       fetch("/caracteristicas/"+id, {method:'DELETE'}).then(() =>
       {
            window.location.reload();
        });
      }
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

{{> layout.html.hbs }}